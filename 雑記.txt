　この雑記はラブライブスクールアイドルフェスティバル(※以下スクフェス)の
楽曲スコア計算機、制作時の日記みたいなものです。

〜計算機を自作した背景〜
スクフェスは期間限定イベントにおいて、スコアランキング報酬が実装され、
楽曲スコアを気にする人口が増えていると感じております。
そして、そのスコアを出す上で一番気になることがあります。
それは、今自分が出しているハイスコアは果たして確率的に考えて、出にくいスコアで、
自分が出せる最上級のものなのか、という点です。

この問題を解決するため、スコア計算機を開発する、あるいは既存のものを利用する
必要があると考えました。既存のものをおさらいしましょう。

ユニット提案サイト、ユニットを入力したら確率分布を表示するサイト、
ユニット入力後、スコア計算するサイト、…

探せば色々なサイトが検索に引っかかります。しかし、それらのうち、楽曲情報(ノーツの配置など)
を正確に再現して、スコアを計算してくれているサイトとなると、非常にごくわずかになります。(調べた限りでは
存在しないわけではないと思われますが、古いバージョンの計算機であったり、現在のバージョンに対応した計算機では
存在しないのではないかと思われます）

そして、一番の問題としてユニット提案サイトなどの現在のバージョンのものに対応しているサイトであっても、
数万単位で計算結果スコアと実際のスコアが上下し、誤差が大きく正確な計算ができているのか甚だ疑問に思うことが
多いのです。

確率分布を表示するサイトにしても楽曲のノーツ配置を考慮したものを計算しているわけではなく、単純に、最大ノーツ数を
ノーツが飛んでくるレーン分の9で割ったもので計算しているといった実態があります（さらに言えば分布表示のデータが、
大きすぎるのでランダムに表示するデータを変えているために毎度毎度入力データは統一されていても結果の表示されるグラフが違う
といったことも…）
※確率分布の方ですが、データがあまりにも大きくなるのでランダムアクセスにして、表示を求めるという手法は全然間違っていませんし、
そこが原因で批判をしているわけではありません（あまりにも計算量が多いので表示仕切るのにかかる時間が異常ですし、
データ量そのものもペタバイトデータになります。）

さて、それら近似されたデータをもとに楽曲スコアを計算できた！
と言っていいのでしょうか。とくに僕のようなスコアランキング1万位ボーダー周辺の民としては、
数万スコアの誤差は致命的であることが多いのです(実際のデータを示せればいいのですが、ボーダーから±20000で1500人の
プレイヤーが存在していたと思います)

僕はそこに疑問を覚え誤差ができるだけ少なくなるようにスコア計算機を自作する必要があると実感しました。
目標の誤差は±2500です。(α版は多分±10000くらいかも。手元のデモが+9000の誤差。某ユニット提案サイトは誤差-13000)

